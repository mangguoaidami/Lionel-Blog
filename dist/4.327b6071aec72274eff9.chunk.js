webpackJsonp([4],{600:function(i,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t(5),e=t(48),a=t(103),r=t(615),s=t(638);t.d(o,"LoginModule",(function(){return l}));var l=(function(){function i(){}return i=__decorate([t.i(n.x)({imports:[e.c,s.a,a.a,a.b],declarations:[r.a]})],i)})()},615:function(i,o,t){"use strict";var n=t(5),e=t(103),a=t(27),r=t(289),s=t(288),l=t(151);t.d(o,"a",(function(){return c}));var c=(function(){function i(i,o,t,n,a){var r=this;this.fb=i,this.router=o,this.afAuth=t,this.afDataBase=n,this.authService=a,this.submitted=!1,this.ifShowLoadig=!1,this.ifShowSendValiBtn=!1,this.ifShowSignin=!0,this.ifShowSignup=!0,this.form=i.group({email:["",e.c.compose([e.c.required,e.c.minLength(4)])],password:["",e.c.compose([e.c.required,e.c.minLength(4)])]}),this.email=this.form.controls.email,this.password=this.form.controls.password,this.afAuth.authState.subscribe((function(i){r.authStatus=i}))}return i.prototype.ngOnInit=function(){},i.prototype.ngAfterViewInit=function(){this.inputE.nativeElement.focus(),this.loggingTips&&this.loggingTips()},i.prototype.ngOnDestroy=function(){delete this.loggingTips},i.prototype.loggingTips=function(){console.log("受中国大陆网络影响，本站暂时只能通过翻墙登录和注册。详情可邮件作者：lionelzhang123@gmail.com")},i.prototype.onSubmit=function(){var i=this;this.ifShowLoadig=!0,this.afAuth.auth.signInWithEmailAndPassword(this.email.value,this.password.value).catch((function(o){var t=o.code,n=o.message;"auth/wrong-password"===t?alert("Wrong password."):alert(n),console.log(o),i.ifShowLoadig=!1})).then((function(o){o.emailVerified&&(localStorage.setItem("auth_token","success"),i.router.navigate(["/pages"]))}))},i.prototype.signup=function(){var i=this;this.ifShowSendValiBtn=!0,this.ifShowSignin=!1,this.ifShowSignup=!1,this.afAuth.auth.createUserWithEmailAndPassword(this.email.value,this.password.value).catch((function(o){var t=o.code,n=o.message;"auth/weak-password"==t?alert("The password is too weak."):alert(n),console.log(o),i.ifShowSignin=!0,i.ifShowSignup=!0,i.ifShowSendValiBtn=!1}))},i.prototype.send_valification=function(){var i=this;this.afAuth.auth.currentUser.sendEmailVerification().catch((function(i){alert("error:"+i)})).then((function(){alert("Please log in after you verify the email!"),i.ifShowSendValiBtn=!1,i.ifShowSignin=!0}))},__decorate([t.i(n._11)("myInput"),__metadata("design:type",n.K)],i.prototype,"inputE",void 0),i=__decorate([t.i(n._10)({template:t(656),styles:[t(647)]}),__metadata("design:paramtypes",[e.d,a.b,s.b,r.a,l.a])],i)})()},638:function(i,o,t){"use strict";var n=t(27),e=t(615);t.d(o,"a",(function(){return r}));var a=[{path:"",component:e.a}],r=n.a.forChild(a)},647:function(i,o){i.exports="#login-box{background:url(./../../../assets/img/3626.jpg) no-repeat center center fixed;-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover;background-size:cover;font-family:'Open Sans', sans-serif;height:100%;width:100%;display:flex;align-items:center;position:absolute}.form-group label{color:#444444}.login-card h3{margin:0 auto;text-align:center;font-size:24px;color:#444444}.login-card{display:block;padding:40px;width:500px;background:transparent;margin:0 auto;border-radius:2px;box-shadow:0px 2px 2px rgba(0,0,0,0.3);overflow:hidden}.login{text-align:center;font-size:14px;font-family:'Arial', sans-serif;font-weight:700;height:36px;padding:0 8px}.login-submit{border:0px;color:#fff;text-shadow:0 1px rgba(0,0,0,0.1);background-color:#4d90fe;cursor:pointer}.login-card a{text-decoration:none;color:#ffffff;font-weight:400;text-align:center;display:inline-block;opacity:0.6;transition:opacity ease 0.5s}.login-card a:hover{opacity:1}.login-help{width:100%;text-align:center;font-size:12px;color:#666}.login-help a{color:#ffffff}.loading{margin:0 auto;display:block}@media (max-width: 550px){.login-card{margin:0px;width:100%;height:100%}.login-submit{position:absolute;bottom:20px;margin:0 auto;width:75%;cursor:pointer}}\n"},656:function(i,o){i.exports='<div id="login-box">\n    <div class="login-card">\n            <h3>Lionel-Blog</h3>\n            <hr>\n            <form [formGroup]="form" (ngSubmit)="onSubmit()">\n                <div class="form-group" [ngClass]="{\'has-error\': (!email.valid && email.touched), \'has-success\': (email.valid && email.touched)}">\n                    <label for="formGroupEmail">Email</label>\n                    <input type="text" [formControl]="email" name="formGroupEmail" class="form-control" id="formGroupEmail" placeholder="Email/Username" #myInput>\n                </div>\n\n                <div class="form-group" [ngClass]="{\'has-error\': (!password.valid && password.touched), \'has-success\': (password.valid && password.touched)}">\n                    <label for="formGroupPassword">Password</label>\n                    <input type="password" [formControl]="password" class="form-control" name="formGroupPassword" id="formGroupPassword" placeholder="Password">\n                </div>\n\n                <div class="login-help">\n                    \x3c!-- <p>By signing up or clicking <a [routerLink]="[\'/register\']">here</a>, I confirm that I have\n            read and agree to the Terms and <a href="/">Privacy Policy</a></p> --\x3e\n                        <p>Affected by the network in mainland China, the site temporarily only through the external network login and registration, please contact the author for details.</p>\n                </div>\n                \n                <div class="form-group">\n                    <button class="btn btn-info btn-block login-submit" id="test_btn" type="submit" [disabled]="!form.valid" *ngIf="ifShowSignin">\n                        <span *ngIf="!ifShowLoadig">Sign in</span>\n                        <img *ngIf="ifShowLoadig" class="loading" src="./../../../assets/img/loading-spinning-bubbles.svg" width="20" height="20" />\n                    </button>\n                    <button class="btn btn-warning btn-block signup-submit" type="button" [disabled]="!form.valid" (click)="signup()"  *ngIf="ifShowSignup">Register</button>\n                    <button class="btn btn-info btn-block signup-submit" type="button" (click)="send_valification()" *ngIf="ifShowSendValiBtn">send verified</button>\n                </div>\n                \n            </form>\n    </div>\n</div>'}});